<% layout('./layouts/boilerplate')%>
<% layout('./layouts/mdbootstrap')%>
<div class="row">
    <div class="col-6 offset-3">
        <!-- enctype = "multipart/form-data" -->
        <form action="/movies" method="POST" class="validated-form container"  novalidate enctype = "multipart/form-data">
            <div class="mb-3">
                <label class="form-label" for="title">Title</label>
                <input class="form-control" type="text" id="title" name="movie[title]" required>
            </div>
            <div class="mb-3">
                <label class="form-label" for="director">Director</label>
                <input class="form-control" type="text" id="director" name="movie[director]" required>
            </div>
            <div class="mb-3">
                <label class="form-label" for="stars">Stars</label>
                <input class="form-control" type="text" id="stars" name="movie[stars]" required>
            </div>
            <div class="mb-3">
                <label class="form-label" for="year">Year</label>
                <select class="form-select form-select-sm" aria-label=".form-select-sm example" id="year" name="movie[year]" required>
                    <option selected disabled value="">Select</option>
                    <% for(let i = 1900;i<= 2021;i++) {%>
                        <option value="<%= i %>"><%= i %></option>
                    <%}%>
                </select>
                <div class="invalid-feedback">
                    
                </div>
            </div>
            <div class="mb-3">
                <label class="form-label" for="rating">Rating</label>
                    <div class="range">
                        <input type="range" class="form-range" id="rating"  name = "movie[rating]" required>
                    </div>
            </div>
            <div class="container">
                <span id="rateMe1"></span>
            </div>
            <input type="file" name="image" id=""  multiple > 
            <div class="mb-3">
                <label class="form-label" for="description">Reasons for recommendation</label>
                <textarea class="form-control" type="text" id="description" name="movie[description]" required></textarea>
            </div>
            <div class="mb-3"></div>
            <div class="mb-3">
                <button class="btn btn-success">Submit!</button>
            </div>
        </form>
            <a href="/movies">All Movies/TV shows</a>
        </div>
    </div>
</div>
<script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
(function () {
  'use strict'

  // Fetch all the forms we want to apply custom Bootstrap validation styles to
  var forms = document.querySelectorAll('.validated-form')

  // Loop over them and prevent submission
  Array.prototype.slice.call(forms)
    .forEach(function (form) {
      form.addEventListener('submit', function (event) {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }

        form.classList.add('was-validated')
      }, false)
    })
})()
</script>